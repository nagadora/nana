import { useEffect } from "react";

const fetchBlogs = async () => {
  console.log("ðŸ” fetchBlogs ãŒå®Ÿè¡Œã•ã‚ŒãŸï¼"); // â† ã“ã“ãŒå‡ºã‚‹ã‹ç¢ºèª

  console.log("APIã‚­ãƒ¼:", process.env.NEXT_PUBLIC_MICROCMS_API_KEY); // â† APIã‚­ãƒ¼ã‚’ç¢ºèª

  const res = await fetch("https://nene.microcms.io/api/v1/blogs", {
    headers: { "X-MICROCMS-API-KEY": process.env.NEXT_PUBLIC_MICROCMS_API_KEY },
  });

  const data = await res.json();
  console.log("ðŸ›  APIãƒ¬ã‚¹ãƒãƒ³ã‚¹:", data); // â† ã“ã“ã§APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¡¨ç¤ºï¼

  return data;
};

// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä¸­ã§ fetchBlogs ã‚’å®Ÿè¡Œ
export default function Home() {
  useEffect(() => {
    fetchBlogs();
  }, []);

  return <h1>è¨˜äº‹ä¸€è¦§</h1>;
}